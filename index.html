<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hayneko's blog</title>
    <link rel="stylesheet" href="indexstyle.css">
    <link rel="stylesheet" href="./live2dqw/assets/waifu.css">
    <link rel="stylesheet" href="./live2dqw/assets/waifu.min.css">
    <!-- <link rel="stylesheet" href="medias/css/RightCLickMenu.css"> -->
</head>
<body>
    <header>
        <h1></h1>
    </header>
    <main>
        <section class="sidebar">
            <div class="avatar">
                <img src="medias/picures/avatarMikuHatsune.jpg" alt="Hayneko's blog" class="protected-media">
            </div>
            <a href="index.html" class="box" id="home"><i class="fa-solid fa-house"></i><span>home</span></a>
            <a href="#" class="box" id="album"><i class="fa-solid fa-image"></i><span>album</span></a>
            <a href="#" class="box" id="about"><i class="fa-solid fa-user"></i><span>about</span></a>
            <a href="#" class="box" id="projects"><i class="fa-solid fa-code"></i><span>projects</span></a>
            <a href="#" class="box" id="contact"><i class="fa-solid fa-comment"></i><span>contact</span></a>

            <button class="box btt" id="login"><i class="fa-solid fa-arrow-right-to-bracket"></i><span>login</span></button>
            <button class="box btt" id="theme"><i class="fa-solid fa-moon"></i><span>switch theme</span></button>
            <button class="box btt" id="search"><i class="fa-solid fa-magnifying-glass"></i><span>search</span></button>
    
        </section>
    
        <section class="main-content">
            <div class="content-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i class="fa-solid fa-pen-nib"></i>
                        </div>
                        <h3>Latest Articles</h3>
                    </div>
                    <div class="card-content">
                        <p>Explore my most recent writings on web development, UI/UX design, and creative coding techniques.</p>
                        <ul>
                            <li>Modern CSS Techniques</li>
                            <li>JavaScript Best Practices</li>
                            <li>Responsive Design Principles</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="card-button">View All</a>
                    </div>
                </div>
        
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i class="fa-solid fa-code"></i>
                        </div>
                        <h3>Projects</h3>
                    </div>
                    <div class="card-content">
                        <p>A collection of my open-source projects, experiments, and creative coding endeavors.</p>
                        <ul>
                            <li>Interactive Data Visualizations</li>
                            <li>WebGL Experiments</li>
                            <li>UI Component Library</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="card-button">Explore</a>
                    </div>
                </div>
        
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i class="fa-solid fa-image"></i>
                        </div>
                        <h3>Gallery</h3>
                    </div>
                    <div class="card-content">
                        <p>Visual creations, digital art, and design experiments that showcase my creative side.</p>
                        <ul>
                            <li>Digital Illustrations</li>
                            <li>Motion Graphics</li>
                            <li>UI Design Concepts</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="card-button">Browse</a>
                    </div>
                </div>
            </div>
        
        </section>
        <!-- <section class="right-infos">
            <div class="welcome-section">
                <h2>Welcome to Hayneko's Blog</h2>
                <p>Discover insights, tutorials, and thoughts on technology, design, and creative coding. Join me on this
                    journey of exploration and learning.</p>
            </div>
            
        </section> -->
    </main>











    <button id="back-to-top" title="back to top">
        <i class="fa fa-angle-up"></i>
    </button>

    <div class="modal-overlay"></div>
    <div class="login-modal">
        <img src="medias/picures/side-picture.jpg" alt="avatar" class="protected-media">
        <form action="javaScript:get_login()" method="post">
            <h2 style="margin-bottom: 20px; text-align: center;">Welcome back</h2>
            <input type="text" placeholder="Username" required>
            <input type="password" placeholder="Password" required>
            <button type="submit">Sign in</button>
            <div class="other_options">
                <a href="#">Forgot password?</a>
                <a href="#">Create an account</a>
    
            </div>
        </form>
    </div>

</body>
<script>
    // media protection
    const protectedMediaElements = document.querySelectorAll('.protected-media');

    protectedMediaElements.forEach(media => {
        // disable right-click
        media.addEventListener('contextmenu', function (e) {
            e.preventDefault();
        });

        // disable drag
        media.setAttribute('draggable', false);
        media.addEventListener('dragstart', function (e) {
            e.preventDefault();
        });

        // disable copying
        media.addEventListener('copy', function (e) {
            e.preventDefault();
        });
    });

    document.addEventListener('keydown', function (e) {
        if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
            // alert("You are in debug mode.")
            // e.preventDefault();
        }
    });

    // costom right-click menu
    


    const backToTopButton = document.getElementById('back-to-top');
    
    window.onscroll = function() {
        scrollFunction();
    };
    
    function scrollFunction() {
        if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
            backToTopButton.style.display = 'block';
        } else {
            backToTopButton.style.display = 'none';
        }
    }
    
    backToTopButton.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    }); 

    let currentTheme = 1;

    const switchThemeButton = document.getElementById('theme');
    switchThemeButton.addEventListener('click', function() {
        switchThemeButton.innerHTML = `<i class="fa-solid fa-${currentTheme === 0? 'moon' : 'sun'}"></i><span>switch theme</span>`;
        currentTheme ^= 1;
        if (currentTheme === 0) {
            document.body.classList.add("light-theme")
        }
        else if (currentTheme === 1) {
            document.body.classList.remove("light-theme")
        }
        else {
            ;
        }
    });

   
    

    
</script>

<!-- <script src="medias/scripts/RightClickMenu.js"></script> -->

<script src="live2dqw/assets/jquery.min.js?v=3.3.1"></script>

<!-- 实现拖动效果，需引入 JQuery UI -->
<script src="live2dqw/assets/jquery-ui.min.js?v=1.12.1"></script>

<div class="waifu">
    <div class="waifu-tips"></div>
    <canvas id="live2d" class="live2d"></canvas>
    <div class="waifu-tool">
        <span class="fui-home"></span>
        <span class="fui-chat"></span>
        <span class="fui-eye"></span>
        <span class="fui-user"></span>
        <span class="fui-photo"></span>
        <span class="fui-info-circle"></span>
        <span class="fui-cross"></span>
    </div>
</div>

<script src="https://kit.fontawesome.com/1600b40260.js" crossorigin="anonymous"></script>
<script src="live2dqw/assets/waifu-tips.min.js?v=1.4.2"></script>
<script src="live2dqw/assets/live2d.min.js?v=1.0.5"></script>
<script type="text/javascript">
    /* 可直接修改部分参数 */
    live2d_settings['modelId'] = 2;                  // 默认模型 ID
    live2d_settings['modelTexturesId'] = 87;         // 默认材质 ID
    live2d_settings['modelStorage'] = false;         // 不储存模型 ID
    live2d_settings['canCloseLive2d'] = false;       // 隐藏 关闭看板娘 按钮
    live2d_settings['canTurnToHomePage'] = false;    // 隐藏 返回首页 按钮
    live2d_settings['waifuSize'] = '400x350';        // 看板娘大小
    live2d_settings['waifuTipsSize'] = '280x100';    // 提示框大小
    live2d_settings['waifuFontSize'] = '20px';       // 提示框字体
    live2d_settings['waifuToolFont'] = '24px';       // 工具栏字体
    live2d_settings['waifuToolLine'] = '30px';       // 工具栏行高
    live2d_settings['waifuToolTop'] = '-60px';       // 工具栏顶部边距
    live2d_settings['waifuDraggable'] = 'axis-x';    // 拖拽样式
    /* 在 initModel 前添加 */
    initModel("live2dqw/assets/waifu-tips.json?v=1.4.2")
</script>

<script>
    document.querySelector('#login').addEventListener('click', function (e) {
        const btn = e.target;
        const rect = btn.getBoundingClientRect();
        btn.style.visibility = 'hidden';

        // // 计算相对视口的绝对位置
        // const startX = rect.left + window.scrollX;
        // const startY = rect.top + window.scrollY;

        // // 创建动画按钮副本
        const cloneBtn = btn.cloneNode(true);
        cloneBtn.classList.add('login-btn-animate');


        // 使用requestAnimationFrame确保流畅动画
        requestAnimationFrame(() => {
            // 动画完成后显示模态框
            setTimeout(() => {
                document.querySelector('.login-modal').classList.add('active');
                document.querySelector('.modal-overlay').classList.add('active');
                cloneBtn.remove();
                btn.style.visibility = 'visible';
            }, 1);
        });
    });

    // 关闭模态框时恢复滚动
    document.querySelector('.modal-overlay').addEventListener('click', function () {
        document.querySelector('.login-modal').classList.remove('active');
        this.classList.remove('active');
    });
    document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') {
            document.querySelector('.login-modal').classList.remove('active');
            document.querySelector('.modal-overlay').classList.remove('active');
        }
    })


    function get_login() {

        const username = document.querySelector('input[type="text"]').value;
        const password = document.querySelector('input[type="password"]').value;
        console.log(username, password);

        //check login
        if (username === 'haynekogithubio' && password === 'haynekogithubio') {
            alert('Login success!');
            reset_login_form();

            window.location.href = 'index.html';
        } else {
            alert('Login failed, please check your username and password.');
        }
    }

    // 重载或刷新页面时关闭模态框，清除过往登录框内的输入内容
    // 登录后登录框内的输入内容仍然保留

    function reset_login_form() {
        ;
        document.querySelector('.login-modal').classList.remove('active');
        document.querySelector('.modal-overlay').classList.remove('active');
        document.querySelector('input[type="text"]').value = '';
        document.querySelector('input[type="password"]').value = '';
    };

    document.addEventListener('beroreunload', function () {
        reset_login_form();
    });

</script>
</html>